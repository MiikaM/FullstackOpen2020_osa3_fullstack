(this["webpackJsonppuhelinluettelo_6-10"]=this["webpackJsonppuhelinluettelo_6-10"]||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(14),u=t.n(o),c=t(4),l=t(2),i=function(e){var n=e.name,t=e.handleFilter;return r.a.createElement("form",null,r.a.createElement("div",null,"filter people with:",r.a.createElement("input",{value:n,onChange:t})))},m=function(e){var n=e.person,t=e.deleteThis;return r.a.createElement("p",{className:"person"},n.name," ",n.number,r.a.createElement("button",{value:n.id,onClick:t},"delete"))},s=function(e){var n=e.people,t=e.deletePerson;return console.log("people are ",n),r.a.createElement("div",null,n.map((function(e){return r.a.createElement(m,{key:e.id,person:e,deleteThis:t})})))},d=function(e){var n=e.name,t=e.number,a=e.handleName,o=e.handleNumber,u=e.handleSubmit;return r.a.createElement("form",{onSubmit:u},r.a.createElement("div",null,"name:",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"number:",r.a.createElement("input",{value:t,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add")))},f=t(3),p=t.n(f),h="/api/persons",v=function(){return p.a.get(h).then((function(e){return e.data}))},b=function(e){return p.a.post(h,e).then((function(e){return e.data}))},E=function(e,n){return p.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){return p.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},j=function(e){var n=e.message;return null===n?null:(console.log("message o",n),r.a.createElement("div",{className:n.type},n.message))},O=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),m=Object(l.a)(u,2),f=m[0],p=m[1],h=Object(a.useState)(""),O=Object(l.a)(h,2),w=O[0],y=O[1],S=Object(a.useState)(""),N=Object(l.a)(S,2),k=N[0],C=N[1],A=Object(a.useState)(null),P=Object(l.a)(A,2),T=P[0],F=P[1];Object(a.useEffect)((function(){v().then((function(e){o(e)}))}),[]);var I=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"notification";F({message:e,type:n}),setTimeout((function(){F(null)}),5e3)},J=""===f?t:t.filter((function(e){return e.name.toUpperCase().startsWith(f.toUpperCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(j,{message:T}),r.a.createElement(i,{name:f,handleFilter:function(e){return p(e.target.value)}}),r.a.createElement("h3",null,"Add person"),r.a.createElement(d,{name:w,number:k,handleName:function(e){return y(e.target.value)},handleNumber:function(e){return C(e.target.value)},handleSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name===w.trim()}));if(void 0===n){var a={name:w.trim(),number:k.trim()};b(a).then((function(e){o(t.concat(e)),y(""),C(""),I("Added ".concat(e.name," "))})).catch((function(e){I(e.response.data.error,"error"),y(""),C("")}))}else window.confirm("".concat(w," is already added to phonebook, replace the old number with a new one?"))&&function(e){var n=e.person,a=n.id,r=Object(c.a)(Object(c.a)({},n),{},{number:k.trim()});E(a,r).then((function(e){o(t.map((function(n){return n.id!==a?n:e}))),y(""),C(""),I("".concat(e.name,"'s number was updated"))})).catch((function(e){I(e.response.data.error,"error"),y(""),C(""),o(t.filter((function(e){return e.id!==a})))}))}({person:n})}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(s,{people:J,deletePerson:function(e){console.log("Eventti on",e.target.value);var n=e.target.value,a=t.find((function(e){return e.id===n}));window.confirm("Are you sure you want to remove ".concat(a.name," ?"))&&g(n).then((function(e){I("".concat(a.name," has been removed from the server")),o(t.filter((function(e){return e.id!==n})))})).catch((function(e){I("Information of '".concat(a.name,"' was already removed from server"))}))}}))};t(37);u.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.06db2d05.chunk.js.map